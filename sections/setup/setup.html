<div class="container top-container">
<div class="row">
	<div class="col-lg-12">
		<div class="page-header">
			<h1>Setup <small>How do you NaNoWriMo?</small></h1>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-lg-12">
		<div ng-show="msg.type" role="alert" class="alert alert-{{msg.type}}">
			<button type="button" class="close" ng-click="clearMsg()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
			{{msg.text}}
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title"><i class="fa fa-fw fa-calendar"></i> Manage Year</h3>
			</div>
			<div class="panel-body">
				<p>Each year, you may participate in one NaNoWriMo.  A year will start in August for that year's NaNoWriMo (so you can start preparing).</p>
				<button class="btn btn-primary pull-right" ng-click="showAdd()"><i class="fa fa-plus-circle"></i> Add New Year</button>
				<table class="table table-striped table-hover table-condensed table-bordered tableInlineEdit">
					<thead>
						<td class="col-xs-2 col-sm-2 col-md-3 col-lg-2 sortable" ng-click="curorder='year';curreverse=!curreverse">
							Year
							<div class="pull-right sortarrows">
								<i ng-class="{'fa fa-caret-up': true, 'current': curorder=='year' && curreverse}"></i>
								<i ng-class="{'fa fa-caret-down': true, 'current': curorder=='year' && !curreverse}"></i>
							</div>
						</td>
						<td class="col-xs-6 col-sm-6 col-md-4 sortable" ng-click="curorder='title';curreverse=!curreverse">
							Title
							<div class="pull-right sortarrows">
								<i ng-class="{'fa fa-caret-up': true, 'current': curorder=='title' && curreverse}"></i>
								<i ng-class="{'fa fa-caret-down': true, 'current': curorder=='title' && !curreverse}"></i>
							</div>
						</td>
						<td class="col-xs-2 col-sm-2 col-md-2 sortable" ng-click="curorder='completed';curreverse=!curreverse">
							Completed
							<div class="pull-right sortarrows">
								<i ng-class="{'fa fa-caret-up': true, 'current': curorder=='completed' && curreverse}"></i>
								<i ng-class="{'fa fa-caret-down': true, 'current': curorder=='completed' && !curreverse}"></i>
							</div>
						</td>
						<td class="col-xs-2 col-sm-2 col-md-3 col-ld-4" >Action</td>
					</thead>
					<tbody>
					<tr ng-if="addmode">
						<form class="form-inline" role="form">
						<td>
							<div class="form-group">
								<label class="sr-only" for="addyear">Year</label>
								<input type="year" id="addyear" ng-model="addyear.year" class="form-control input-sm" placeholder="Year" />
							</div>
						</td>
						<td>
							<div class="form-group">
								<label class="sr-only" for="addyear">Title</label>
								<input type="text" id="newtitle" ng-model="addyear.title" class="form-control input-sm" placeholder="Title" />
							</div>
						</td>
						<td>
							<label class="checkbox-inline">
								<input type="checkbox" ng-model="addyear.completed" /> Completed
							</label>
						</td>
						<td>
							<button class="btn btn-success btn-sm" ng-click="add(addyear)">
								<i class="fa fa-fw fa-floppy-o"></i>
								<span class="hidden-xs hidden-sm"> Save New</span>
							</button>
							<button class="btn btn-default btn-sm" ng-click="cancelAdd()">
								<i class="fa fa-fw fa-times-circle-o"></i>
								<span class="hidden-xs hidden-sm"> Cancel</span>
							</button>
						</td>
					</tr>
					<tr ng-repeat="data in years | orderBy:curorder:curreverse">
						<td>
							<span ng-hide="editmode && edityear.year == data.year">
								{{data.year}}
							</span>
							<div ng-show="editmode && edityear.year == data.year" class="form-group">
								<label class="sr-only" for="edityear">Year</label>
								<input type="year" name="edityear" class="inputyear" ng-model="data.year" class="form-control input-sm" placeholder="Year" />
							</div>
						</td>
						<td>
							<span ng-hide="editmode && edityear.year == data.year">
								{{data.title}}
							</span>
							<div ng-show="editmode && edityear.year == data.year" class="form-group">
								<label class="sr-only" for="edittitle">Title</label>
								<input type="text" name="edittitle" class="inputtitle" ng-model="data.title" class="form-control input-sm" placeholder="Title" />
							</div>
						</td>
						<td>
							<span ng-hide="editmode && edityear.year == data.year">
								<i ng-show="data.completed" class="fa fa-check text-success"></i>
								<i ng-hide="data.completed" class="fa fa-times text-danger"></i>
							</span>
							<label ng-show="editmode && edityear.year == data.year" class="checkbox-inline">
								<input type="checkbox" ng-model="data.completed" /> Completed
							</label>
						</td>
						<td>
							<button ng-show="editmode && edityear.year == data.year" class="btn btn-success btn-sm" ng-click="save(data)">
								<i class="fa fa-fw fa-floppy-o"></i>
								<span class="hidden-xs hidden-sm"> Save</span>
							</button>
							<button ng-hide="editmode && edityear.year == data.year" class="btn btn-primary btn-sm" ng-click="showEdit(data)">
								<i class="fa fa-fw fa-pencil-square-o"></i>
								<span class="hidden-xs hidden-sm"> Edit</span>
							</button>
							<button ng-show="editmode && edityear.year == data.year" class="btn btn-default btn-sm" ng-click="cancelEdit()">
								<i class="fa fa-fw fa-times-circle-o"></i>
								<span class="hidden-xs hidden-sm"> Cancel</span>
							</button>
							<button ng-hide="editmode && edityear.year == data.year" class="btn btn-danger btn-sm" ng-click="delete(data)">
								<i class="fa fa-fw fa-trash"></i>
								<span class="hidden-xs hidden-sm"> Delete</span>
							</button>
						</td>
					</tr>

					</tbody>
				</table>
			</div>
		</div>
	</div>
</div>
</div>